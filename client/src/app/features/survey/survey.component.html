<mat-card *ngIf="!activeSurvey && pageReady">
    <mat-card-header>
        <mat-card-title>Umfrage PIN</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <mat-form-field appearance="fill">
            <input matInput type="number" maxlength="6" [(ngModel)]="connectCode">
            <button *ngIf="connectCode" matSuffix mat-icon-button aria-label="Clear" (click)="connectCode=''">
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field>
          <button mat-flat-button color="primary" (click)="navigateToEnteredConnectCode()">OK</button>
    </mat-card-content>
</mat-card>

<mat-card class="poll" *ngIf="activeSurvey">
    <mat-card-header>
        <mat-card-title>{{activeSurvey?.survey?.question}}</mat-card-title>
    </mat-card-header>
    <mat-card-content>

        <div class="poll__answers">
            <div class="poll__answer" *ngFor="let voteAnswer of activeSurvey?.survey?.answers; let i = index"
                (click)="vote(i)" [class.poll__answer--selected]="i === votedIndex">
                {{ voteAnswer.answer }}
                <span class="poll__percentage-bar" [ngStyle]="getPercentageWidthStyle(voteAnswer)"></span>
                <span class="poll__percentage-value">
                    {{ voteAnswer.voteInPercent }}%
                </span>
            </div>
        </div>

    </mat-card-content>
    <mat-card-actions>
    </mat-card-actions>
</mat-card>